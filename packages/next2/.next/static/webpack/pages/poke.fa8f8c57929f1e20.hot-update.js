"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/poke",{

/***/ "../../node_modules/jotai/esm/index.js":
/*!*********************************************!*\
  !*** ../../node_modules/jotai/esm/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Provider\": function() { return /* binding */ Provider; },\n/* harmony export */   \"SECRET_INTERNAL_getScopeContext\": function() { return /* binding */ getScopeContext; },\n/* harmony export */   \"SECRET_INTERNAL_registerPromiseAbort\": function() { return /* binding */ registerPromiseAbort; },\n/* harmony export */   \"atom\": function() { return /* binding */ atom; },\n/* harmony export */   \"unstable_createStore\": function() { return /* binding */ createStoreForExport; },\n/* harmony export */   \"useAtom\": function() { return /* binding */ useAtom; },\n/* harmony export */   \"useAtomValue\": function() { return /* binding */ useAtomValue; },\n/* harmony export */   \"useSetAtom\": function() { return /* binding */ useSetAtom; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst SUSPENSE_PROMISE = Symbol();\nconst isSuspensePromise = (promise) => !!promise[SUSPENSE_PROMISE];\nconst isSuspensePromiseAlreadyCancelled = (suspensePromise) => !suspensePromise[SUSPENSE_PROMISE].c;\nconst cancelSuspensePromise = (suspensePromise) => {\n  var _a;\n  const { b: basePromise, c: cancelPromise } = suspensePromise[SUSPENSE_PROMISE];\n  if (cancelPromise) {\n    cancelPromise();\n    (_a = promiseAbortMap.get(basePromise)) == null ? void 0 : _a();\n  }\n};\nconst isEqualSuspensePromise = (oldSuspensePromise, newSuspensePromise) => {\n  const oldOriginalPromise = oldSuspensePromise[SUSPENSE_PROMISE].o;\n  const newOriginalPromise = newSuspensePromise[SUSPENSE_PROMISE].o;\n  return oldOriginalPromise === newOriginalPromise || oldSuspensePromise === newOriginalPromise || isSuspensePromise(oldOriginalPromise) && isEqualSuspensePromise(oldOriginalPromise, newSuspensePromise);\n};\nconst createSuspensePromise = (basePromise, promise) => {\n  const suspensePromiseExtra = {\n    b: basePromise,\n    o: promise,\n    c: null\n  };\n  const suspensePromise = new Promise((resolve) => {\n    suspensePromiseExtra.c = () => {\n      suspensePromiseExtra.c = null;\n      resolve();\n    };\n    promise.finally(suspensePromiseExtra.c);\n  });\n  suspensePromise[SUSPENSE_PROMISE] = suspensePromiseExtra;\n  return suspensePromise;\n};\nconst promiseAbortMap = /* @__PURE__ */ new WeakMap();\nconst registerPromiseAbort = (basePromise, abort) => {\n  promiseAbortMap.set(basePromise, abort);\n};\n\nconst hasInitialValue = (atom) => \"init\" in atom;\nconst READ_ATOM = \"r\";\nconst WRITE_ATOM = \"w\";\nconst COMMIT_ATOM = \"c\";\nconst SUBSCRIBE_ATOM = \"s\";\nconst RESTORE_ATOMS = \"h\";\nconst DEV_SUBSCRIBE_STATE = \"n\";\nconst DEV_GET_MOUNTED_ATOMS = \"l\";\nconst DEV_GET_ATOM_STATE = \"a\";\nconst DEV_GET_MOUNTED = \"m\";\nconst createStore = (initialValues) => {\n  const committedAtomStateMap = /* @__PURE__ */ new WeakMap();\n  const mountedMap = /* @__PURE__ */ new WeakMap();\n  const pendingMap = /* @__PURE__ */ new Map();\n  let stateListeners;\n  let mountedAtoms;\n  if (true) {\n    stateListeners = /* @__PURE__ */ new Set();\n    mountedAtoms = /* @__PURE__ */ new Set();\n  }\n  if (initialValues) {\n    for (const [atom, value] of initialValues) {\n      const atomState = {\n        v: value,\n        r: 0,\n        y: true,\n        d: /* @__PURE__ */ new Map()\n      };\n      if (true) {\n        Object.freeze(atomState);\n        if (!hasInitialValue(atom)) {\n          console.warn(\n            \"Found initial value for derived atom which can cause unexpected behavior\",\n            atom\n          );\n        }\n      }\n      committedAtomStateMap.set(atom, atomState);\n    }\n  }\n  const suspensePromiseCacheMap = /* @__PURE__ */ new WeakMap();\n  const addSuspensePromiseToCache = (version, atom, suspensePromise) => {\n    let cache = suspensePromiseCacheMap.get(atom);\n    if (!cache) {\n      cache = /* @__PURE__ */ new Map();\n      suspensePromiseCacheMap.set(atom, cache);\n    }\n    suspensePromise.then(() => {\n      if (cache.get(version) === suspensePromise) {\n        cache.delete(version);\n        if (!cache.size) {\n          suspensePromiseCacheMap.delete(atom);\n        }\n      }\n    });\n    cache.set(version, suspensePromise);\n  };\n  const cancelAllSuspensePromiseInCache = (atom) => {\n    const versionSet = /* @__PURE__ */ new Set();\n    const cache = suspensePromiseCacheMap.get(atom);\n    if (cache) {\n      suspensePromiseCacheMap.delete(atom);\n      cache.forEach((suspensePromise, version) => {\n        cancelSuspensePromise(suspensePromise);\n        versionSet.add(version);\n      });\n    }\n    return versionSet;\n  };\n  const versionedAtomStateMapMap = /* @__PURE__ */ new WeakMap();\n  const getVersionedAtomStateMap = (version) => {\n    let versionedAtomStateMap = versionedAtomStateMapMap.get(version);\n    if (!versionedAtomStateMap) {\n      versionedAtomStateMap = /* @__PURE__ */ new Map();\n      versionedAtomStateMapMap.set(version, versionedAtomStateMap);\n    }\n    return versionedAtomStateMap;\n  };\n  const getAtomState = (version, atom) => {\n    if (version) {\n      const versionedAtomStateMap = getVersionedAtomStateMap(version);\n      let atomState = versionedAtomStateMap.get(atom);\n      if (!atomState) {\n        atomState = getAtomState(version.p, atom);\n        if (atomState && \"p\" in atomState && isSuspensePromiseAlreadyCancelled(atomState.p)) {\n          atomState = void 0;\n        }\n        if (atomState) {\n          versionedAtomStateMap.set(atom, atomState);\n        }\n      }\n      return atomState;\n    }\n    return committedAtomStateMap.get(atom);\n  };\n  const setAtomState = (version, atom, atomState) => {\n    if (true) {\n      Object.freeze(atomState);\n    }\n    if (version) {\n      const versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.set(atom, atomState);\n    } else {\n      const prevAtomState = committedAtomStateMap.get(atom);\n      committedAtomStateMap.set(atom, atomState);\n      if (!pendingMap.has(atom)) {\n        pendingMap.set(atom, prevAtomState);\n      }\n    }\n  };\n  const createReadDependencies = (version, prevReadDependencies = /* @__PURE__ */ new Map(), dependencies) => {\n    if (!dependencies) {\n      return prevReadDependencies;\n    }\n    const readDependencies = /* @__PURE__ */ new Map();\n    let changed = false;\n    dependencies.forEach((atom) => {\n      var _a;\n      const revision = ((_a = getAtomState(version, atom)) == null ? void 0 : _a.r) || 0;\n      readDependencies.set(atom, revision);\n      if (prevReadDependencies.get(atom) !== revision) {\n        changed = true;\n      }\n    });\n    if (prevReadDependencies.size === readDependencies.size && !changed) {\n      return prevReadDependencies;\n    }\n    return readDependencies;\n  };\n  const setAtomValue = (version, atom, value, dependencies, suspensePromise) => {\n    const atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (suspensePromise && (!(\"p\" in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n    const nextAtomState = {\n      v: value,\n      r: (atomState == null ? void 0 : atomState.r) || 0,\n      y: true,\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    let changed = !(atomState == null ? void 0 : atomState.y);\n    if (!atomState || !(\"v\" in atomState) || !Object.is(atomState.v, value)) {\n      changed = true;\n      ++nextAtomState.r;\n      if (nextAtomState.d.has(atom)) {\n        nextAtomState.d = new Map(nextAtomState.d).set(atom, nextAtomState.r);\n      }\n    } else if (nextAtomState.d !== atomState.d && (nextAtomState.d.size !== atomState.d.size || !Array.from(nextAtomState.d.keys()).every((a) => atomState.d.has(a)))) {\n      changed = true;\n      Promise.resolve().then(() => {\n        flushPending(version);\n      });\n    }\n    if (atomState && !changed) {\n      return atomState;\n    }\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  const setAtomReadError = (version, atom, error, dependencies, suspensePromise) => {\n    const atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (suspensePromise && (!(\"p\" in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n    const nextAtomState = {\n      e: error,\n      r: ((atomState == null ? void 0 : atomState.r) || 0) + 1,\n      y: true,\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  const setAtomSuspensePromise = (version, atom, suspensePromise, dependencies) => {\n    const atomState = getAtomState(version, atom);\n    if (atomState && \"p\" in atomState) {\n      if (isEqualSuspensePromise(atomState.p, suspensePromise)) {\n        if (!atomState.y) {\n          return { ...atomState, y: true };\n        }\n        return atomState;\n      }\n      cancelSuspensePromise(atomState.p);\n    }\n    addSuspensePromiseToCache(version, atom, suspensePromise);\n    const nextAtomState = {\n      p: suspensePromise,\n      r: ((atomState == null ? void 0 : atomState.r) || 0) + 1,\n      y: true,\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n  const setAtomPromiseOrValue = (version, atom, promiseOrValue, dependencies) => {\n    if (promiseOrValue instanceof Promise) {\n      const suspensePromise = createSuspensePromise(\n        promiseOrValue,\n        promiseOrValue.then((value) => {\n          setAtomValue(version, atom, value, dependencies, suspensePromise);\n        }).catch((e) => {\n          if (e instanceof Promise) {\n            if (isSuspensePromise(e)) {\n              return e.then(() => {\n                readAtomState(version, atom, true);\n              });\n            }\n            return e;\n          }\n          setAtomReadError(version, atom, e, dependencies, suspensePromise);\n        })\n      );\n      return setAtomSuspensePromise(\n        version,\n        atom,\n        suspensePromise,\n        dependencies\n      );\n    }\n    return setAtomValue(\n      version,\n      atom,\n      promiseOrValue,\n      dependencies\n    );\n  };\n  const setAtomInvalidated = (version, atom) => {\n    const atomState = getAtomState(version, atom);\n    if (atomState) {\n      const nextAtomState = {\n        ...atomState,\n        y: false\n      };\n      setAtomState(version, atom, nextAtomState);\n    } else if (true) {\n      console.warn(\"[Bug] could not invalidate non existing atom\", atom);\n    }\n  };\n  const readAtomState = (version, atom, force) => {\n    if (!force) {\n      const atomState = getAtomState(version, atom);\n      if (atomState) {\n        if (atomState.y && \"p\" in atomState && !isSuspensePromiseAlreadyCancelled(atomState.p)) {\n          return atomState;\n        }\n        atomState.d.forEach((_, a) => {\n          if (a !== atom) {\n            if (!mountedMap.has(a)) {\n              readAtomState(version, a);\n            } else {\n              const aState = getAtomState(version, a);\n              if (aState && !aState.y) {\n                readAtomState(version, a);\n              }\n            }\n          }\n        });\n        if (Array.from(atomState.d).every(([a, r]) => {\n          const aState = getAtomState(version, a);\n          return aState && !(\"p\" in aState) && aState.r === r;\n        })) {\n          if (!atomState.y) {\n            return { ...atomState, y: true };\n          }\n          return atomState;\n        }\n      }\n    }\n    const dependencies = /* @__PURE__ */ new Set();\n    try {\n      const promiseOrValue = atom.read((a) => {\n        dependencies.add(a);\n        const aState = a === atom ? getAtomState(version, a) : readAtomState(version, a);\n        if (aState) {\n          if (\"e\" in aState) {\n            throw aState.e;\n          }\n          if (\"p\" in aState) {\n            throw aState.p;\n          }\n          return aState.v;\n        }\n        if (hasInitialValue(a)) {\n          return a.init;\n        }\n        throw new Error(\"no atom init\");\n      });\n      return setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies);\n    } catch (errorOrPromise) {\n      if (errorOrPromise instanceof Promise) {\n        const suspensePromise = createSuspensePromise(\n          errorOrPromise,\n          errorOrPromise\n        );\n        return setAtomSuspensePromise(\n          version,\n          atom,\n          suspensePromise,\n          dependencies\n        );\n      }\n      return setAtomReadError(version, atom, errorOrPromise, dependencies);\n    }\n  };\n  const readAtom = (readingAtom, version) => {\n    const atomState = readAtomState(version, readingAtom);\n    return atomState;\n  };\n  const addAtom = (version, addingAtom) => {\n    let mounted = mountedMap.get(addingAtom);\n    if (!mounted) {\n      mounted = mountAtom(version, addingAtom);\n    }\n    return mounted;\n  };\n  const canUnmountAtom = (atom, mounted) => !mounted.l.size && (!mounted.t.size || mounted.t.size === 1 && mounted.t.has(atom));\n  const delAtom = (version, deletingAtom) => {\n    const mounted = mountedMap.get(deletingAtom);\n    if (mounted && canUnmountAtom(deletingAtom, mounted)) {\n      unmountAtom(version, deletingAtom);\n    }\n  };\n  const invalidateDependents = (version, atom) => {\n    const mounted = mountedMap.get(atom);\n    mounted == null ? void 0 : mounted.t.forEach((dependent) => {\n      if (dependent !== atom) {\n        setAtomInvalidated(version, dependent);\n        invalidateDependents(version, dependent);\n      }\n    });\n  };\n  const writeAtomState = (version, atom, update) => {\n    let isSync = true;\n    const writeGetter = (a, options) => {\n      const aState = readAtomState(version, a);\n      if (\"e\" in aState) {\n        throw aState.e;\n      }\n      if (\"p\" in aState) {\n        if (options == null ? void 0 : options.unstable_promise) {\n          return aState.p.then(() => {\n            const s = getAtomState(version, a);\n            if (s && \"p\" in s && s.p === aState.p) {\n              return new Promise((resolve) => setTimeout(resolve)).then(\n                () => writeGetter(a, options)\n              );\n            }\n            return writeGetter(a, options);\n          });\n        }\n        if (true) {\n          console.info(\n            \"Reading pending atom state in write operation. We throw a promise for now.\",\n            a\n          );\n        }\n        throw aState.p;\n      }\n      if (\"v\" in aState) {\n        return aState.v;\n      }\n      if (true) {\n        console.warn(\n          \"[Bug] no value found while reading atom in write operation. This is probably a bug.\",\n          a\n        );\n      }\n      throw new Error(\"no value found\");\n    };\n    const setter = (a, v) => {\n      let promiseOrVoid2;\n      if (a === atom) {\n        if (!hasInitialValue(a)) {\n          throw new Error(\"atom not writable\");\n        }\n        const versionSet = cancelAllSuspensePromiseInCache(a);\n        versionSet.forEach((cancelledVersion) => {\n          if (cancelledVersion !== version) {\n            setAtomPromiseOrValue(cancelledVersion, a, v);\n          }\n        });\n        const prevAtomState = getAtomState(version, a);\n        const nextAtomState = setAtomPromiseOrValue(version, a, v);\n        if (prevAtomState !== nextAtomState) {\n          invalidateDependents(version, a);\n        }\n      } else {\n        promiseOrVoid2 = writeAtomState(version, a, v);\n      }\n      if (!isSync) {\n        flushPending(version);\n      }\n      return promiseOrVoid2;\n    };\n    const promiseOrVoid = atom.write(writeGetter, setter, update);\n    isSync = false;\n    return promiseOrVoid;\n  };\n  const writeAtom = (writingAtom, update, version) => {\n    const promiseOrVoid = writeAtomState(version, writingAtom, update);\n    flushPending(version);\n    return promiseOrVoid;\n  };\n  const isActuallyWritableAtom = (atom) => !!atom.write;\n  const mountAtom = (version, atom, initialDependent) => {\n    const mounted = {\n      t: new Set(initialDependent && [initialDependent]),\n      l: /* @__PURE__ */ new Set()\n    };\n    mountedMap.set(atom, mounted);\n    if (true) {\n      mountedAtoms.add(atom);\n    }\n    const atomState = readAtomState(void 0, atom);\n    atomState.d.forEach((_, a) => {\n      const aMounted = mountedMap.get(a);\n      if (aMounted) {\n        aMounted.t.add(atom);\n      } else {\n        if (a !== atom) {\n          mountAtom(version, a, atom);\n        }\n      }\n    });\n    if (isActuallyWritableAtom(atom) && atom.onMount) {\n      const setAtom = (update) => writeAtom(atom, update, version);\n      const onUnmount = atom.onMount(setAtom);\n      version = void 0;\n      if (onUnmount) {\n        mounted.u = onUnmount;\n      }\n    }\n    return mounted;\n  };\n  const unmountAtom = (version, atom) => {\n    var _a;\n    const onUnmount = (_a = mountedMap.get(atom)) == null ? void 0 : _a.u;\n    if (onUnmount) {\n      onUnmount();\n    }\n    mountedMap.delete(atom);\n    if (true) {\n      mountedAtoms.delete(atom);\n    }\n    const atomState = getAtomState(version, atom);\n    if (atomState) {\n      if (\"p\" in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n      atomState.d.forEach((_, a) => {\n        if (a !== atom) {\n          const mounted = mountedMap.get(a);\n          if (mounted) {\n            mounted.t.delete(atom);\n            if (canUnmountAtom(a, mounted)) {\n              unmountAtom(version, a);\n            }\n          }\n        }\n      });\n    } else if (true) {\n      console.warn(\"[Bug] could not find atom state to unmount\", atom);\n    }\n  };\n  const mountDependencies = (version, atom, atomState, prevReadDependencies) => {\n    const dependencies = new Set(atomState.d.keys());\n    prevReadDependencies == null ? void 0 : prevReadDependencies.forEach((_, a) => {\n      if (dependencies.has(a)) {\n        dependencies.delete(a);\n        return;\n      }\n      const mounted = mountedMap.get(a);\n      if (mounted) {\n        mounted.t.delete(atom);\n        if (canUnmountAtom(a, mounted)) {\n          unmountAtom(version, a);\n        }\n      }\n    });\n    dependencies.forEach((a) => {\n      const mounted = mountedMap.get(a);\n      if (mounted) {\n        mounted.t.add(atom);\n      } else if (mountedMap.has(atom)) {\n        mountAtom(version, a, atom);\n      }\n    });\n  };\n  const flushPending = (version) => {\n    if (version) {\n      const versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.forEach((atomState, atom) => {\n        const committedAtomState = committedAtomStateMap.get(atom);\n        if (atomState !== committedAtomState) {\n          const mounted = mountedMap.get(atom);\n          mounted == null ? void 0 : mounted.l.forEach((listener) => listener(version));\n        }\n      });\n      return;\n    }\n    while (pendingMap.size) {\n      const pending = Array.from(pendingMap);\n      pendingMap.clear();\n      pending.forEach(([atom, prevAtomState]) => {\n        const atomState = getAtomState(void 0, atom);\n        if (atomState && atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(void 0, atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n        if (prevAtomState && !prevAtomState.y && (atomState == null ? void 0 : atomState.y)) {\n          return;\n        }\n        const mounted = mountedMap.get(atom);\n        mounted == null ? void 0 : mounted.l.forEach((listener) => listener());\n      });\n    }\n    if (true) {\n      stateListeners.forEach((l) => l());\n    }\n  };\n  const commitVersionedAtomStateMap = (version) => {\n    const versionedAtomStateMap = getVersionedAtomStateMap(version);\n    versionedAtomStateMap.forEach((atomState, atom) => {\n      const prevAtomState = committedAtomStateMap.get(atom);\n      if (!prevAtomState || atomState.r > prevAtomState.r || atomState.y !== prevAtomState.y || atomState.r === prevAtomState.r && atomState.d !== prevAtomState.d) {\n        committedAtomStateMap.set(atom, atomState);\n        if (atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(version, atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n      }\n    });\n  };\n  const commitAtom = (_atom, version) => {\n    if (version) {\n      commitVersionedAtomStateMap(version);\n    }\n    flushPending(void 0);\n  };\n  const subscribeAtom = (atom, callback, version) => {\n    const mounted = addAtom(version, atom);\n    const listeners = mounted.l;\n    listeners.add(callback);\n    return () => {\n      listeners.delete(callback);\n      delAtom(version, atom);\n    };\n  };\n  const restoreAtoms = (values, version) => {\n    for (const [atom, value] of values) {\n      if (hasInitialValue(atom)) {\n        setAtomPromiseOrValue(version, atom, value);\n        invalidateDependents(version, atom);\n      }\n    }\n    flushPending(version);\n  };\n  if (true) {\n    return {\n      [READ_ATOM]: readAtom,\n      [WRITE_ATOM]: writeAtom,\n      [COMMIT_ATOM]: commitAtom,\n      [SUBSCRIBE_ATOM]: subscribeAtom,\n      [RESTORE_ATOMS]: restoreAtoms,\n      [DEV_SUBSCRIBE_STATE]: (l) => {\n        stateListeners.add(l);\n        return () => {\n          stateListeners.delete(l);\n        };\n      },\n      [DEV_GET_MOUNTED_ATOMS]: () => mountedAtoms.values(),\n      [DEV_GET_ATOM_STATE]: (a) => committedAtomStateMap.get(a),\n      [DEV_GET_MOUNTED]: (a) => mountedMap.get(a)\n    };\n  }\n  return {\n    [READ_ATOM]: readAtom,\n    [WRITE_ATOM]: writeAtom,\n    [COMMIT_ATOM]: commitAtom,\n    [SUBSCRIBE_ATOM]: subscribeAtom,\n    [RESTORE_ATOMS]: restoreAtoms\n  };\n};\nconst createStoreForExport = (initialValues) => {\n  const store = createStore(initialValues);\n  const get = (atom) => {\n    const atomState = store[READ_ATOM](atom);\n    if (\"e\" in atomState) {\n      throw atomState.e;\n    }\n    if (\"p\" in atomState) {\n      return void 0;\n    }\n    return atomState.v;\n  };\n  const asyncGet = (atom) => new Promise((resolve, reject) => {\n    const atomState = store[READ_ATOM](atom);\n    if (\"e\" in atomState) {\n      reject(atomState.e);\n    } else if (\"p\" in atomState) {\n      resolve(atomState.p.then(() => asyncGet(atom)));\n    } else {\n      resolve(atomState.v);\n    }\n  });\n  const set = (atom, update) => store[WRITE_ATOM](atom, update);\n  const sub = (atom, callback) => store[SUBSCRIBE_ATOM](atom, callback);\n  return {\n    get,\n    asyncGet,\n    set,\n    sub,\n    SECRET_INTERNAL_store: store\n  };\n};\n\nconst createScopeContainer = (initialValues, unstable_createStore) => {\n  const store = unstable_createStore ? unstable_createStore(initialValues).SECRET_INTERNAL_store : createStore(initialValues);\n  return { s: store };\n};\nconst ScopeContextMap = /* @__PURE__ */ new Map();\nconst getScopeContext = (scope) => {\n  if (!ScopeContextMap.has(scope)) {\n    ScopeContextMap.set(scope, (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(createScopeContainer()));\n  }\n  return ScopeContextMap.get(scope);\n};\n\nconst Provider = ({\n  children,\n  initialValues,\n  scope,\n  unstable_createStore,\n  unstable_enableVersionedWrite\n}) => {\n  const [version, setVersion] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const scopeContainer = scopeContainerRef.current;\n    if (scopeContainer.w) {\n      scopeContainer.s[COMMIT_ATOM](null, version);\n      delete version.p;\n      scopeContainer.v = version;\n    }\n  }, [version]);\n  const scopeContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  if (!scopeContainerRef.current) {\n    const scopeContainer = createScopeContainer(\n      initialValues,\n      unstable_createStore\n    );\n    if (unstable_enableVersionedWrite) {\n      let retrying = 0;\n      scopeContainer.w = (write) => {\n        setVersion((parentVersion) => {\n          const nextVersion = retrying ? parentVersion : { p: parentVersion };\n          write(nextVersion);\n          return nextVersion;\n        });\n      };\n      scopeContainer.v = version;\n      scopeContainer.r = (fn) => {\n        ++retrying;\n        fn();\n        --retrying;\n      };\n    }\n    scopeContainerRef.current = scopeContainer;\n  }\n  const ScopeContainerContext = getScopeContext(scope);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\n    ScopeContainerContext.Provider,\n    {\n      value: scopeContainerRef.current\n    },\n    children\n  );\n};\n\nlet keyCount = 0;\nfunction atom(read, write) {\n  const key = `atom${++keyCount}`;\n  const config = {\n    toString: () => key\n  };\n  if (typeof read === \"function\") {\n    config.read = read;\n  } else {\n    config.init = read;\n    config.read = (get) => get(config);\n    config.write = (get, set, update) => set(config, typeof update === \"function\" ? update(get(config)) : update);\n  }\n  if (write) {\n    config.write = write;\n  }\n  return config;\n}\n\nfunction useAtomValue(atom, scope) {\n  const ScopeContext = getScopeContext(scope);\n  const scopeContainer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ScopeContext);\n  const { s: store, v: versionFromProvider } = scopeContainer;\n  const getAtomValue = (version2) => {\n    const atomState = store[READ_ATOM](atom, version2);\n    if ( true && !atomState.y) {\n      throw new Error(\"should not be invalidated\");\n    }\n    if (\"e\" in atomState) {\n      throw atomState.e;\n    }\n    if (\"p\" in atomState) {\n      throw atomState.p;\n    }\n    if (\"v\" in atomState) {\n      return atomState.v;\n    }\n    throw new Error(\"no atom value\");\n  };\n  const [[version, valueFromReducer, atomFromReducer], rerenderIfChanged] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(\n    (prev, nextVersion) => {\n      const nextValue = getAtomValue(nextVersion);\n      if (Object.is(prev[1], nextValue) && prev[2] === atom) {\n        return prev;\n      }\n      return [nextVersion, nextValue, atom];\n    },\n    versionFromProvider,\n    (initialVersion) => {\n      const initialValue = getAtomValue(initialVersion);\n      return [initialVersion, initialValue, atom];\n    }\n  );\n  let value = valueFromReducer;\n  if (atomFromReducer !== atom) {\n    rerenderIfChanged(version);\n    value = getAtomValue(version);\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const { v: versionFromProvider2 } = scopeContainer;\n    if (versionFromProvider2) {\n      store[COMMIT_ATOM](atom, versionFromProvider2);\n    }\n    const unsubscribe = store[SUBSCRIBE_ATOM](\n      atom,\n      rerenderIfChanged,\n      versionFromProvider2\n    );\n    rerenderIfChanged(versionFromProvider2);\n    return unsubscribe;\n  }, [store, atom, scopeContainer]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    store[COMMIT_ATOM](atom, version);\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(value);\n  return value;\n}\n\nfunction useSetAtom(atom, scope) {\n  const ScopeContext = getScopeContext(scope);\n  const { s: store, w: versionedWrite } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ScopeContext);\n  const setAtom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (update) => {\n      if ( true && !(\"write\" in atom)) {\n        throw new Error(\"not writable atom\");\n      }\n      const write = (version) => store[WRITE_ATOM](atom, update, version);\n      return versionedWrite ? versionedWrite(write) : write();\n    },\n    [store, versionedWrite, atom]\n  );\n  return setAtom;\n}\n\nfunction useAtom(atom, scope) {\n  if (\"scope\" in atom) {\n    console.warn(\n      \"atom.scope is deprecated. Please do useAtom(atom, scope) instead.\"\n    );\n    scope = atom.scope;\n  }\n  return [\n    useAtomValue(atom, scope),\n    useSetAtom(atom, scope)\n  ];\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL2pvdGFpL2VzbS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXNJOztBQUV0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQ0FBbUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQTBEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLElBQTBEO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsSUFBMEQ7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sU0FBUyxJQUEwRDtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxZQUFZLElBQTBEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxJQUEwRDtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUEwRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUEwRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU0sU0FBUyxJQUEwRDtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsUUFBUSxJQUEwRDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sSUFBMEQ7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixvREFBYTtBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGdDQUFnQywrQ0FBUSxHQUFHO0FBQzNDLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLDZDQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9EQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixXQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIsaURBQVU7QUFDbkMsVUFBVSxtQ0FBbUM7QUFDN0M7QUFDQTtBQUNBLFFBQVEsS0FBMEQ7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsaURBQVU7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1gsWUFBWSwwQkFBMEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0EsR0FBRztBQUNILEVBQUUsb0RBQWE7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLDhCQUE4QixFQUFFLGlEQUFVO0FBQ3BELGtCQUFrQixrREFBVztBQUM3QjtBQUNBLFVBQVUsS0FBMEQ7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU2TiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL2pvdGFpL2VzbS9pbmRleC5qcz9hZGZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgY3JlYXRlRWxlbWVudCwgdXNlQ29udGV4dCwgdXNlUmVkdWNlciwgdXNlRGVidWdWYWx1ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IFNVU1BFTlNFX1BST01JU0UgPSBTeW1ib2woKTtcbmNvbnN0IGlzU3VzcGVuc2VQcm9taXNlID0gKHByb21pc2UpID0+ICEhcHJvbWlzZVtTVVNQRU5TRV9QUk9NSVNFXTtcbmNvbnN0IGlzU3VzcGVuc2VQcm9taXNlQWxyZWFkeUNhbmNlbGxlZCA9IChzdXNwZW5zZVByb21pc2UpID0+ICFzdXNwZW5zZVByb21pc2VbU1VTUEVOU0VfUFJPTUlTRV0uYztcbmNvbnN0IGNhbmNlbFN1c3BlbnNlUHJvbWlzZSA9IChzdXNwZW5zZVByb21pc2UpID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IGI6IGJhc2VQcm9taXNlLCBjOiBjYW5jZWxQcm9taXNlIH0gPSBzdXNwZW5zZVByb21pc2VbU1VTUEVOU0VfUFJPTUlTRV07XG4gIGlmIChjYW5jZWxQcm9taXNlKSB7XG4gICAgY2FuY2VsUHJvbWlzZSgpO1xuICAgIChfYSA9IHByb21pc2VBYm9ydE1hcC5nZXQoYmFzZVByb21pc2UpKSA9PSBudWxsID8gdm9pZCAwIDogX2EoKTtcbiAgfVxufTtcbmNvbnN0IGlzRXF1YWxTdXNwZW5zZVByb21pc2UgPSAob2xkU3VzcGVuc2VQcm9taXNlLCBuZXdTdXNwZW5zZVByb21pc2UpID0+IHtcbiAgY29uc3Qgb2xkT3JpZ2luYWxQcm9taXNlID0gb2xkU3VzcGVuc2VQcm9taXNlW1NVU1BFTlNFX1BST01JU0VdLm87XG4gIGNvbnN0IG5ld09yaWdpbmFsUHJvbWlzZSA9IG5ld1N1c3BlbnNlUHJvbWlzZVtTVVNQRU5TRV9QUk9NSVNFXS5vO1xuICByZXR1cm4gb2xkT3JpZ2luYWxQcm9taXNlID09PSBuZXdPcmlnaW5hbFByb21pc2UgfHwgb2xkU3VzcGVuc2VQcm9taXNlID09PSBuZXdPcmlnaW5hbFByb21pc2UgfHwgaXNTdXNwZW5zZVByb21pc2Uob2xkT3JpZ2luYWxQcm9taXNlKSAmJiBpc0VxdWFsU3VzcGVuc2VQcm9taXNlKG9sZE9yaWdpbmFsUHJvbWlzZSwgbmV3U3VzcGVuc2VQcm9taXNlKTtcbn07XG5jb25zdCBjcmVhdGVTdXNwZW5zZVByb21pc2UgPSAoYmFzZVByb21pc2UsIHByb21pc2UpID0+IHtcbiAgY29uc3Qgc3VzcGVuc2VQcm9taXNlRXh0cmEgPSB7XG4gICAgYjogYmFzZVByb21pc2UsXG4gICAgbzogcHJvbWlzZSxcbiAgICBjOiBudWxsXG4gIH07XG4gIGNvbnN0IHN1c3BlbnNlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc3VzcGVuc2VQcm9taXNlRXh0cmEuYyA9ICgpID0+IHtcbiAgICAgIHN1c3BlbnNlUHJvbWlzZUV4dHJhLmMgPSBudWxsO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgcHJvbWlzZS5maW5hbGx5KHN1c3BlbnNlUHJvbWlzZUV4dHJhLmMpO1xuICB9KTtcbiAgc3VzcGVuc2VQcm9taXNlW1NVU1BFTlNFX1BST01JU0VdID0gc3VzcGVuc2VQcm9taXNlRXh0cmE7XG4gIHJldHVybiBzdXNwZW5zZVByb21pc2U7XG59O1xuY29uc3QgcHJvbWlzZUFib3J0TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWdpc3RlclByb21pc2VBYm9ydCA9IChiYXNlUHJvbWlzZSwgYWJvcnQpID0+IHtcbiAgcHJvbWlzZUFib3J0TWFwLnNldChiYXNlUHJvbWlzZSwgYWJvcnQpO1xufTtcblxuY29uc3QgaGFzSW5pdGlhbFZhbHVlID0gKGF0b20pID0+IFwiaW5pdFwiIGluIGF0b207XG5jb25zdCBSRUFEX0FUT00gPSBcInJcIjtcbmNvbnN0IFdSSVRFX0FUT00gPSBcIndcIjtcbmNvbnN0IENPTU1JVF9BVE9NID0gXCJjXCI7XG5jb25zdCBTVUJTQ1JJQkVfQVRPTSA9IFwic1wiO1xuY29uc3QgUkVTVE9SRV9BVE9NUyA9IFwiaFwiO1xuY29uc3QgREVWX1NVQlNDUklCRV9TVEFURSA9IFwiblwiO1xuY29uc3QgREVWX0dFVF9NT1VOVEVEX0FUT01TID0gXCJsXCI7XG5jb25zdCBERVZfR0VUX0FUT01fU1RBVEUgPSBcImFcIjtcbmNvbnN0IERFVl9HRVRfTU9VTlRFRCA9IFwibVwiO1xuY29uc3QgY3JlYXRlU3RvcmUgPSAoaW5pdGlhbFZhbHVlcykgPT4ge1xuICBjb25zdCBjb21taXR0ZWRBdG9tU3RhdGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgY29uc3QgbW91bnRlZE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICBjb25zdCBwZW5kaW5nTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IHN0YXRlTGlzdGVuZXJzO1xuICBsZXQgbW91bnRlZEF0b21zO1xuICBpZiAoKGltcG9ydC5tZXRhLmVudiAmJiBpbXBvcnQubWV0YS5lbnYuTU9ERSkgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgc3RhdGVMaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIG1vdW50ZWRBdG9tcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgaWYgKGluaXRpYWxWYWx1ZXMpIHtcbiAgICBmb3IgKGNvbnN0IFthdG9tLCB2YWx1ZV0gb2YgaW5pdGlhbFZhbHVlcykge1xuICAgICAgY29uc3QgYXRvbVN0YXRlID0ge1xuICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgcjogMCxcbiAgICAgICAgeTogdHJ1ZSxcbiAgICAgICAgZDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICAgICAgfTtcbiAgICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShhdG9tU3RhdGUpO1xuICAgICAgICBpZiAoIWhhc0luaXRpYWxWYWx1ZShhdG9tKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiRm91bmQgaW5pdGlhbCB2YWx1ZSBmb3IgZGVyaXZlZCBhdG9tIHdoaWNoIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yXCIsXG4gICAgICAgICAgICBhdG9tXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29tbWl0dGVkQXRvbVN0YXRlTWFwLnNldChhdG9tLCBhdG9tU3RhdGUpO1xuICAgIH1cbiAgfVxuICBjb25zdCBzdXNwZW5zZVByb21pc2VDYWNoZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICBjb25zdCBhZGRTdXNwZW5zZVByb21pc2VUb0NhY2hlID0gKHZlcnNpb24sIGF0b20sIHN1c3BlbnNlUHJvbWlzZSkgPT4ge1xuICAgIGxldCBjYWNoZSA9IHN1c3BlbnNlUHJvbWlzZUNhY2hlTWFwLmdldChhdG9tKTtcbiAgICBpZiAoIWNhY2hlKSB7XG4gICAgICBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBzdXNwZW5zZVByb21pc2VDYWNoZU1hcC5zZXQoYXRvbSwgY2FjaGUpO1xuICAgIH1cbiAgICBzdXNwZW5zZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY2FjaGUuZ2V0KHZlcnNpb24pID09PSBzdXNwZW5zZVByb21pc2UpIHtcbiAgICAgICAgY2FjaGUuZGVsZXRlKHZlcnNpb24pO1xuICAgICAgICBpZiAoIWNhY2hlLnNpemUpIHtcbiAgICAgICAgICBzdXNwZW5zZVByb21pc2VDYWNoZU1hcC5kZWxldGUoYXRvbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjYWNoZS5zZXQodmVyc2lvbiwgc3VzcGVuc2VQcm9taXNlKTtcbiAgfTtcbiAgY29uc3QgY2FuY2VsQWxsU3VzcGVuc2VQcm9taXNlSW5DYWNoZSA9IChhdG9tKSA9PiB7XG4gICAgY29uc3QgdmVyc2lvblNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgY29uc3QgY2FjaGUgPSBzdXNwZW5zZVByb21pc2VDYWNoZU1hcC5nZXQoYXRvbSk7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICBzdXNwZW5zZVByb21pc2VDYWNoZU1hcC5kZWxldGUoYXRvbSk7XG4gICAgICBjYWNoZS5mb3JFYWNoKChzdXNwZW5zZVByb21pc2UsIHZlcnNpb24pID0+IHtcbiAgICAgICAgY2FuY2VsU3VzcGVuc2VQcm9taXNlKHN1c3BlbnNlUHJvbWlzZSk7XG4gICAgICAgIHZlcnNpb25TZXQuYWRkKHZlcnNpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2ZXJzaW9uU2V0O1xuICB9O1xuICBjb25zdCB2ZXJzaW9uZWRBdG9tU3RhdGVNYXBNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgY29uc3QgZ2V0VmVyc2lvbmVkQXRvbVN0YXRlTWFwID0gKHZlcnNpb24pID0+IHtcbiAgICBsZXQgdmVyc2lvbmVkQXRvbVN0YXRlTWFwID0gdmVyc2lvbmVkQXRvbVN0YXRlTWFwTWFwLmdldCh2ZXJzaW9uKTtcbiAgICBpZiAoIXZlcnNpb25lZEF0b21TdGF0ZU1hcCkge1xuICAgICAgdmVyc2lvbmVkQXRvbVN0YXRlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIHZlcnNpb25lZEF0b21TdGF0ZU1hcE1hcC5zZXQodmVyc2lvbiwgdmVyc2lvbmVkQXRvbVN0YXRlTWFwKTtcbiAgICB9XG4gICAgcmV0dXJuIHZlcnNpb25lZEF0b21TdGF0ZU1hcDtcbiAgfTtcbiAgY29uc3QgZ2V0QXRvbVN0YXRlID0gKHZlcnNpb24sIGF0b20pID0+IHtcbiAgICBpZiAodmVyc2lvbikge1xuICAgICAgY29uc3QgdmVyc2lvbmVkQXRvbVN0YXRlTWFwID0gZ2V0VmVyc2lvbmVkQXRvbVN0YXRlTWFwKHZlcnNpb24pO1xuICAgICAgbGV0IGF0b21TdGF0ZSA9IHZlcnNpb25lZEF0b21TdGF0ZU1hcC5nZXQoYXRvbSk7XG4gICAgICBpZiAoIWF0b21TdGF0ZSkge1xuICAgICAgICBhdG9tU3RhdGUgPSBnZXRBdG9tU3RhdGUodmVyc2lvbi5wLCBhdG9tKTtcbiAgICAgICAgaWYgKGF0b21TdGF0ZSAmJiBcInBcIiBpbiBhdG9tU3RhdGUgJiYgaXNTdXNwZW5zZVByb21pc2VBbHJlYWR5Q2FuY2VsbGVkKGF0b21TdGF0ZS5wKSkge1xuICAgICAgICAgIGF0b21TdGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXRvbVN0YXRlKSB7XG4gICAgICAgICAgdmVyc2lvbmVkQXRvbVN0YXRlTWFwLnNldChhdG9tLCBhdG9tU3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXRvbVN0YXRlO1xuICAgIH1cbiAgICByZXR1cm4gY29tbWl0dGVkQXRvbVN0YXRlTWFwLmdldChhdG9tKTtcbiAgfTtcbiAgY29uc3Qgc2V0QXRvbVN0YXRlID0gKHZlcnNpb24sIGF0b20sIGF0b21TdGF0ZSkgPT4ge1xuICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoYXRvbVN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIGNvbnN0IHZlcnNpb25lZEF0b21TdGF0ZU1hcCA9IGdldFZlcnNpb25lZEF0b21TdGF0ZU1hcCh2ZXJzaW9uKTtcbiAgICAgIHZlcnNpb25lZEF0b21TdGF0ZU1hcC5zZXQoYXRvbSwgYXRvbVN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJldkF0b21TdGF0ZSA9IGNvbW1pdHRlZEF0b21TdGF0ZU1hcC5nZXQoYXRvbSk7XG4gICAgICBjb21taXR0ZWRBdG9tU3RhdGVNYXAuc2V0KGF0b20sIGF0b21TdGF0ZSk7XG4gICAgICBpZiAoIXBlbmRpbmdNYXAuaGFzKGF0b20pKSB7XG4gICAgICAgIHBlbmRpbmdNYXAuc2V0KGF0b20sIHByZXZBdG9tU3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgY3JlYXRlUmVhZERlcGVuZGVuY2llcyA9ICh2ZXJzaW9uLCBwcmV2UmVhZERlcGVuZGVuY2llcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIGRlcGVuZGVuY2llcykgPT4ge1xuICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgICByZXR1cm4gcHJldlJlYWREZXBlbmRlbmNpZXM7XG4gICAgfVxuICAgIGNvbnN0IHJlYWREZXBlbmRlbmNpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgZGVwZW5kZW5jaWVzLmZvckVhY2goKGF0b20pID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHJldmlzaW9uID0gKChfYSA9IGdldEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnIpIHx8IDA7XG4gICAgICByZWFkRGVwZW5kZW5jaWVzLnNldChhdG9tLCByZXZpc2lvbik7XG4gICAgICBpZiAocHJldlJlYWREZXBlbmRlbmNpZXMuZ2V0KGF0b20pICE9PSByZXZpc2lvbikge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocHJldlJlYWREZXBlbmRlbmNpZXMuc2l6ZSA9PT0gcmVhZERlcGVuZGVuY2llcy5zaXplICYmICFjaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gcHJldlJlYWREZXBlbmRlbmNpZXM7XG4gICAgfVxuICAgIHJldHVybiByZWFkRGVwZW5kZW5jaWVzO1xuICB9O1xuICBjb25zdCBzZXRBdG9tVmFsdWUgPSAodmVyc2lvbiwgYXRvbSwgdmFsdWUsIGRlcGVuZGVuY2llcywgc3VzcGVuc2VQcm9taXNlKSA9PiB7XG4gICAgY29uc3QgYXRvbVN0YXRlID0gZ2V0QXRvbVN0YXRlKHZlcnNpb24sIGF0b20pO1xuICAgIGlmIChhdG9tU3RhdGUpIHtcbiAgICAgIGlmIChzdXNwZW5zZVByb21pc2UgJiYgKCEoXCJwXCIgaW4gYXRvbVN0YXRlKSB8fCAhaXNFcXVhbFN1c3BlbnNlUHJvbWlzZShhdG9tU3RhdGUucCwgc3VzcGVuc2VQcm9taXNlKSkpIHtcbiAgICAgICAgcmV0dXJuIGF0b21TdGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmIChcInBcIiBpbiBhdG9tU3RhdGUpIHtcbiAgICAgICAgY2FuY2VsU3VzcGVuc2VQcm9taXNlKGF0b21TdGF0ZS5wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV4dEF0b21TdGF0ZSA9IHtcbiAgICAgIHY6IHZhbHVlLFxuICAgICAgcjogKGF0b21TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogYXRvbVN0YXRlLnIpIHx8IDAsXG4gICAgICB5OiB0cnVlLFxuICAgICAgZDogY3JlYXRlUmVhZERlcGVuZGVuY2llcyh2ZXJzaW9uLCBhdG9tU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IGF0b21TdGF0ZS5kLCBkZXBlbmRlbmNpZXMpXG4gICAgfTtcbiAgICBsZXQgY2hhbmdlZCA9ICEoYXRvbVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBhdG9tU3RhdGUueSk7XG4gICAgaWYgKCFhdG9tU3RhdGUgfHwgIShcInZcIiBpbiBhdG9tU3RhdGUpIHx8ICFPYmplY3QuaXMoYXRvbVN0YXRlLnYsIHZhbHVlKSkge1xuICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICArK25leHRBdG9tU3RhdGUucjtcbiAgICAgIGlmIChuZXh0QXRvbVN0YXRlLmQuaGFzKGF0b20pKSB7XG4gICAgICAgIG5leHRBdG9tU3RhdGUuZCA9IG5ldyBNYXAobmV4dEF0b21TdGF0ZS5kKS5zZXQoYXRvbSwgbmV4dEF0b21TdGF0ZS5yKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5leHRBdG9tU3RhdGUuZCAhPT0gYXRvbVN0YXRlLmQgJiYgKG5leHRBdG9tU3RhdGUuZC5zaXplICE9PSBhdG9tU3RhdGUuZC5zaXplIHx8ICFBcnJheS5mcm9tKG5leHRBdG9tU3RhdGUuZC5rZXlzKCkpLmV2ZXJ5KChhKSA9PiBhdG9tU3RhdGUuZC5oYXMoYSkpKSkge1xuICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgZmx1c2hQZW5kaW5nKHZlcnNpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChhdG9tU3RhdGUgJiYgIWNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBhdG9tU3RhdGU7XG4gICAgfVxuICAgIHNldEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tLCBuZXh0QXRvbVN0YXRlKTtcbiAgICByZXR1cm4gbmV4dEF0b21TdGF0ZTtcbiAgfTtcbiAgY29uc3Qgc2V0QXRvbVJlYWRFcnJvciA9ICh2ZXJzaW9uLCBhdG9tLCBlcnJvciwgZGVwZW5kZW5jaWVzLCBzdXNwZW5zZVByb21pc2UpID0+IHtcbiAgICBjb25zdCBhdG9tU3RhdGUgPSBnZXRBdG9tU3RhdGUodmVyc2lvbiwgYXRvbSk7XG4gICAgaWYgKGF0b21TdGF0ZSkge1xuICAgICAgaWYgKHN1c3BlbnNlUHJvbWlzZSAmJiAoIShcInBcIiBpbiBhdG9tU3RhdGUpIHx8ICFpc0VxdWFsU3VzcGVuc2VQcm9taXNlKGF0b21TdGF0ZS5wLCBzdXNwZW5zZVByb21pc2UpKSkge1xuICAgICAgICByZXR1cm4gYXRvbVN0YXRlO1xuICAgICAgfVxuICAgICAgaWYgKFwicFwiIGluIGF0b21TdGF0ZSkge1xuICAgICAgICBjYW5jZWxTdXNwZW5zZVByb21pc2UoYXRvbVN0YXRlLnApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXh0QXRvbVN0YXRlID0ge1xuICAgICAgZTogZXJyb3IsXG4gICAgICByOiAoKGF0b21TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogYXRvbVN0YXRlLnIpIHx8IDApICsgMSxcbiAgICAgIHk6IHRydWUsXG4gICAgICBkOiBjcmVhdGVSZWFkRGVwZW5kZW5jaWVzKHZlcnNpb24sIGF0b21TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogYXRvbVN0YXRlLmQsIGRlcGVuZGVuY2llcylcbiAgICB9O1xuICAgIHNldEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tLCBuZXh0QXRvbVN0YXRlKTtcbiAgICByZXR1cm4gbmV4dEF0b21TdGF0ZTtcbiAgfTtcbiAgY29uc3Qgc2V0QXRvbVN1c3BlbnNlUHJvbWlzZSA9ICh2ZXJzaW9uLCBhdG9tLCBzdXNwZW5zZVByb21pc2UsIGRlcGVuZGVuY2llcykgPT4ge1xuICAgIGNvbnN0IGF0b21TdGF0ZSA9IGdldEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tKTtcbiAgICBpZiAoYXRvbVN0YXRlICYmIFwicFwiIGluIGF0b21TdGF0ZSkge1xuICAgICAgaWYgKGlzRXF1YWxTdXNwZW5zZVByb21pc2UoYXRvbVN0YXRlLnAsIHN1c3BlbnNlUHJvbWlzZSkpIHtcbiAgICAgICAgaWYgKCFhdG9tU3RhdGUueSkge1xuICAgICAgICAgIHJldHVybiB7IC4uLmF0b21TdGF0ZSwgeTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdG9tU3RhdGU7XG4gICAgICB9XG4gICAgICBjYW5jZWxTdXNwZW5zZVByb21pc2UoYXRvbVN0YXRlLnApO1xuICAgIH1cbiAgICBhZGRTdXNwZW5zZVByb21pc2VUb0NhY2hlKHZlcnNpb24sIGF0b20sIHN1c3BlbnNlUHJvbWlzZSk7XG4gICAgY29uc3QgbmV4dEF0b21TdGF0ZSA9IHtcbiAgICAgIHA6IHN1c3BlbnNlUHJvbWlzZSxcbiAgICAgIHI6ICgoYXRvbVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBhdG9tU3RhdGUucikgfHwgMCkgKyAxLFxuICAgICAgeTogdHJ1ZSxcbiAgICAgIGQ6IGNyZWF0ZVJlYWREZXBlbmRlbmNpZXModmVyc2lvbiwgYXRvbVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBhdG9tU3RhdGUuZCwgZGVwZW5kZW5jaWVzKVxuICAgIH07XG4gICAgc2V0QXRvbVN0YXRlKHZlcnNpb24sIGF0b20sIG5leHRBdG9tU3RhdGUpO1xuICAgIHJldHVybiBuZXh0QXRvbVN0YXRlO1xuICB9O1xuICBjb25zdCBzZXRBdG9tUHJvbWlzZU9yVmFsdWUgPSAodmVyc2lvbiwgYXRvbSwgcHJvbWlzZU9yVmFsdWUsIGRlcGVuZGVuY2llcykgPT4ge1xuICAgIGlmIChwcm9taXNlT3JWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIGNvbnN0IHN1c3BlbnNlUHJvbWlzZSA9IGNyZWF0ZVN1c3BlbnNlUHJvbWlzZShcbiAgICAgICAgcHJvbWlzZU9yVmFsdWUsXG4gICAgICAgIHByb21pc2VPclZhbHVlLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc2V0QXRvbVZhbHVlKHZlcnNpb24sIGF0b20sIHZhbHVlLCBkZXBlbmRlbmNpZXMsIHN1c3BlbnNlUHJvbWlzZSk7XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBpZiAoaXNTdXNwZW5zZVByb21pc2UoZSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVhZEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QXRvbVJlYWRFcnJvcih2ZXJzaW9uLCBhdG9tLCBlLCBkZXBlbmRlbmNpZXMsIHN1c3BlbnNlUHJvbWlzZSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuIHNldEF0b21TdXNwZW5zZVByb21pc2UoXG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIGF0b20sXG4gICAgICAgIHN1c3BlbnNlUHJvbWlzZSxcbiAgICAgICAgZGVwZW5kZW5jaWVzXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc2V0QXRvbVZhbHVlKFxuICAgICAgdmVyc2lvbixcbiAgICAgIGF0b20sXG4gICAgICBwcm9taXNlT3JWYWx1ZSxcbiAgICAgIGRlcGVuZGVuY2llc1xuICAgICk7XG4gIH07XG4gIGNvbnN0IHNldEF0b21JbnZhbGlkYXRlZCA9ICh2ZXJzaW9uLCBhdG9tKSA9PiB7XG4gICAgY29uc3QgYXRvbVN0YXRlID0gZ2V0QXRvbVN0YXRlKHZlcnNpb24sIGF0b20pO1xuICAgIGlmIChhdG9tU3RhdGUpIHtcbiAgICAgIGNvbnN0IG5leHRBdG9tU3RhdGUgPSB7XG4gICAgICAgIC4uLmF0b21TdGF0ZSxcbiAgICAgICAgeTogZmFsc2VcbiAgICAgIH07XG4gICAgICBzZXRBdG9tU3RhdGUodmVyc2lvbiwgYXRvbSwgbmV4dEF0b21TdGF0ZSk7XG4gICAgfSBlbHNlIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltCdWddIGNvdWxkIG5vdCBpbnZhbGlkYXRlIG5vbiBleGlzdGluZyBhdG9tXCIsIGF0b20pO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVhZEF0b21TdGF0ZSA9ICh2ZXJzaW9uLCBhdG9tLCBmb3JjZSkgPT4ge1xuICAgIGlmICghZm9yY2UpIHtcbiAgICAgIGNvbnN0IGF0b21TdGF0ZSA9IGdldEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tKTtcbiAgICAgIGlmIChhdG9tU3RhdGUpIHtcbiAgICAgICAgaWYgKGF0b21TdGF0ZS55ICYmIFwicFwiIGluIGF0b21TdGF0ZSAmJiAhaXNTdXNwZW5zZVByb21pc2VBbHJlYWR5Q2FuY2VsbGVkKGF0b21TdGF0ZS5wKSkge1xuICAgICAgICAgIHJldHVybiBhdG9tU3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgYXRvbVN0YXRlLmQuZm9yRWFjaCgoXywgYSkgPT4ge1xuICAgICAgICAgIGlmIChhICE9PSBhdG9tKSB7XG4gICAgICAgICAgICBpZiAoIW1vdW50ZWRNYXAuaGFzKGEpKSB7XG4gICAgICAgICAgICAgIHJlYWRBdG9tU3RhdGUodmVyc2lvbiwgYSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBhU3RhdGUgPSBnZXRBdG9tU3RhdGUodmVyc2lvbiwgYSk7XG4gICAgICAgICAgICAgIGlmIChhU3RhdGUgJiYgIWFTdGF0ZS55KSB7XG4gICAgICAgICAgICAgICAgcmVhZEF0b21TdGF0ZSh2ZXJzaW9uLCBhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChBcnJheS5mcm9tKGF0b21TdGF0ZS5kKS5ldmVyeSgoW2EsIHJdKSA9PiB7XG4gICAgICAgICAgY29uc3QgYVN0YXRlID0gZ2V0QXRvbVN0YXRlKHZlcnNpb24sIGEpO1xuICAgICAgICAgIHJldHVybiBhU3RhdGUgJiYgIShcInBcIiBpbiBhU3RhdGUpICYmIGFTdGF0ZS5yID09PSByO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIGlmICghYXRvbVN0YXRlLnkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmF0b21TdGF0ZSwgeTogdHJ1ZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXRvbVN0YXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb21pc2VPclZhbHVlID0gYXRvbS5yZWFkKChhKSA9PiB7XG4gICAgICAgIGRlcGVuZGVuY2llcy5hZGQoYSk7XG4gICAgICAgIGNvbnN0IGFTdGF0ZSA9IGEgPT09IGF0b20gPyBnZXRBdG9tU3RhdGUodmVyc2lvbiwgYSkgOiByZWFkQXRvbVN0YXRlKHZlcnNpb24sIGEpO1xuICAgICAgICBpZiAoYVN0YXRlKSB7XG4gICAgICAgICAgaWYgKFwiZVwiIGluIGFTdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgYVN0YXRlLmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcInBcIiBpbiBhU3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IGFTdGF0ZS5wO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYVN0YXRlLnY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0luaXRpYWxWYWx1ZShhKSkge1xuICAgICAgICAgIHJldHVybiBhLmluaXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gYXRvbSBpbml0XCIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc2V0QXRvbVByb21pc2VPclZhbHVlKHZlcnNpb24sIGF0b20sIHByb21pc2VPclZhbHVlLCBkZXBlbmRlbmNpZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yT3JQcm9taXNlKSB7XG4gICAgICBpZiAoZXJyb3JPclByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIGNvbnN0IHN1c3BlbnNlUHJvbWlzZSA9IGNyZWF0ZVN1c3BlbnNlUHJvbWlzZShcbiAgICAgICAgICBlcnJvck9yUHJvbWlzZSxcbiAgICAgICAgICBlcnJvck9yUHJvbWlzZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gc2V0QXRvbVN1c3BlbnNlUHJvbWlzZShcbiAgICAgICAgICB2ZXJzaW9uLFxuICAgICAgICAgIGF0b20sXG4gICAgICAgICAgc3VzcGVuc2VQcm9taXNlLFxuICAgICAgICAgIGRlcGVuZGVuY2llc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldEF0b21SZWFkRXJyb3IodmVyc2lvbiwgYXRvbSwgZXJyb3JPclByb21pc2UsIGRlcGVuZGVuY2llcyk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZWFkQXRvbSA9IChyZWFkaW5nQXRvbSwgdmVyc2lvbikgPT4ge1xuICAgIGNvbnN0IGF0b21TdGF0ZSA9IHJlYWRBdG9tU3RhdGUodmVyc2lvbiwgcmVhZGluZ0F0b20pO1xuICAgIHJldHVybiBhdG9tU3RhdGU7XG4gIH07XG4gIGNvbnN0IGFkZEF0b20gPSAodmVyc2lvbiwgYWRkaW5nQXRvbSkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gbW91bnRlZE1hcC5nZXQoYWRkaW5nQXRvbSk7XG4gICAgaWYgKCFtb3VudGVkKSB7XG4gICAgICBtb3VudGVkID0gbW91bnRBdG9tKHZlcnNpb24sIGFkZGluZ0F0b20pO1xuICAgIH1cbiAgICByZXR1cm4gbW91bnRlZDtcbiAgfTtcbiAgY29uc3QgY2FuVW5tb3VudEF0b20gPSAoYXRvbSwgbW91bnRlZCkgPT4gIW1vdW50ZWQubC5zaXplICYmICghbW91bnRlZC50LnNpemUgfHwgbW91bnRlZC50LnNpemUgPT09IDEgJiYgbW91bnRlZC50LmhhcyhhdG9tKSk7XG4gIGNvbnN0IGRlbEF0b20gPSAodmVyc2lvbiwgZGVsZXRpbmdBdG9tKSA9PiB7XG4gICAgY29uc3QgbW91bnRlZCA9IG1vdW50ZWRNYXAuZ2V0KGRlbGV0aW5nQXRvbSk7XG4gICAgaWYgKG1vdW50ZWQgJiYgY2FuVW5tb3VudEF0b20oZGVsZXRpbmdBdG9tLCBtb3VudGVkKSkge1xuICAgICAgdW5tb3VudEF0b20odmVyc2lvbiwgZGVsZXRpbmdBdG9tKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGludmFsaWRhdGVEZXBlbmRlbnRzID0gKHZlcnNpb24sIGF0b20pID0+IHtcbiAgICBjb25zdCBtb3VudGVkID0gbW91bnRlZE1hcC5nZXQoYXRvbSk7XG4gICAgbW91bnRlZCA9PSBudWxsID8gdm9pZCAwIDogbW91bnRlZC50LmZvckVhY2goKGRlcGVuZGVudCkgPT4ge1xuICAgICAgaWYgKGRlcGVuZGVudCAhPT0gYXRvbSkge1xuICAgICAgICBzZXRBdG9tSW52YWxpZGF0ZWQodmVyc2lvbiwgZGVwZW5kZW50KTtcbiAgICAgICAgaW52YWxpZGF0ZURlcGVuZGVudHModmVyc2lvbiwgZGVwZW5kZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgd3JpdGVBdG9tU3RhdGUgPSAodmVyc2lvbiwgYXRvbSwgdXBkYXRlKSA9PiB7XG4gICAgbGV0IGlzU3luYyA9IHRydWU7XG4gICAgY29uc3Qgd3JpdGVHZXR0ZXIgPSAoYSwgb3B0aW9ucykgPT4ge1xuICAgICAgY29uc3QgYVN0YXRlID0gcmVhZEF0b21TdGF0ZSh2ZXJzaW9uLCBhKTtcbiAgICAgIGlmIChcImVcIiBpbiBhU3RhdGUpIHtcbiAgICAgICAgdGhyb3cgYVN0YXRlLmU7XG4gICAgICB9XG4gICAgICBpZiAoXCJwXCIgaW4gYVN0YXRlKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnVuc3RhYmxlX3Byb21pc2UpIHtcbiAgICAgICAgICByZXR1cm4gYVN0YXRlLnAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gZ2V0QXRvbVN0YXRlKHZlcnNpb24sIGEpO1xuICAgICAgICAgICAgaWYgKHMgJiYgXCJwXCIgaW4gcyAmJiBzLnAgPT09IGFTdGF0ZS5wKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlKSkudGhlbihcbiAgICAgICAgICAgICAgICAoKSA9PiB3cml0ZUdldHRlcihhLCBvcHRpb25zKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdyaXRlR2V0dGVyKGEsIG9wdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgICAgICBcIlJlYWRpbmcgcGVuZGluZyBhdG9tIHN0YXRlIGluIHdyaXRlIG9wZXJhdGlvbi4gV2UgdGhyb3cgYSBwcm9taXNlIGZvciBub3cuXCIsXG4gICAgICAgICAgICBhXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBhU3RhdGUucDtcbiAgICAgIH1cbiAgICAgIGlmIChcInZcIiBpbiBhU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFTdGF0ZS52O1xuICAgICAgfVxuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgJiYgaW1wb3J0Lm1ldGEuZW52Lk1PREUpICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJbQnVnXSBubyB2YWx1ZSBmb3VuZCB3aGlsZSByZWFkaW5nIGF0b20gaW4gd3JpdGUgb3BlcmF0aW9uLiBUaGlzIGlzIHByb2JhYmx5IGEgYnVnLlwiLFxuICAgICAgICAgIGFcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIHZhbHVlIGZvdW5kXCIpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0dGVyID0gKGEsIHYpID0+IHtcbiAgICAgIGxldCBwcm9taXNlT3JWb2lkMjtcbiAgICAgIGlmIChhID09PSBhdG9tKSB7XG4gICAgICAgIGlmICghaGFzSW5pdGlhbFZhbHVlKGEpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXRvbSBub3Qgd3JpdGFibGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmVyc2lvblNldCA9IGNhbmNlbEFsbFN1c3BlbnNlUHJvbWlzZUluQ2FjaGUoYSk7XG4gICAgICAgIHZlcnNpb25TZXQuZm9yRWFjaCgoY2FuY2VsbGVkVmVyc2lvbikgPT4ge1xuICAgICAgICAgIGlmIChjYW5jZWxsZWRWZXJzaW9uICE9PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgICBzZXRBdG9tUHJvbWlzZU9yVmFsdWUoY2FuY2VsbGVkVmVyc2lvbiwgYSwgdik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcHJldkF0b21TdGF0ZSA9IGdldEF0b21TdGF0ZSh2ZXJzaW9uLCBhKTtcbiAgICAgICAgY29uc3QgbmV4dEF0b21TdGF0ZSA9IHNldEF0b21Qcm9taXNlT3JWYWx1ZSh2ZXJzaW9uLCBhLCB2KTtcbiAgICAgICAgaWYgKHByZXZBdG9tU3RhdGUgIT09IG5leHRBdG9tU3RhdGUpIHtcbiAgICAgICAgICBpbnZhbGlkYXRlRGVwZW5kZW50cyh2ZXJzaW9uLCBhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZU9yVm9pZDIgPSB3cml0ZUF0b21TdGF0ZSh2ZXJzaW9uLCBhLCB2KTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNTeW5jKSB7XG4gICAgICAgIGZsdXNoUGVuZGluZyh2ZXJzaW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9taXNlT3JWb2lkMjtcbiAgICB9O1xuICAgIGNvbnN0IHByb21pc2VPclZvaWQgPSBhdG9tLndyaXRlKHdyaXRlR2V0dGVyLCBzZXR0ZXIsIHVwZGF0ZSk7XG4gICAgaXNTeW5jID0gZmFsc2U7XG4gICAgcmV0dXJuIHByb21pc2VPclZvaWQ7XG4gIH07XG4gIGNvbnN0IHdyaXRlQXRvbSA9ICh3cml0aW5nQXRvbSwgdXBkYXRlLCB2ZXJzaW9uKSA9PiB7XG4gICAgY29uc3QgcHJvbWlzZU9yVm9pZCA9IHdyaXRlQXRvbVN0YXRlKHZlcnNpb24sIHdyaXRpbmdBdG9tLCB1cGRhdGUpO1xuICAgIGZsdXNoUGVuZGluZyh2ZXJzaW9uKTtcbiAgICByZXR1cm4gcHJvbWlzZU9yVm9pZDtcbiAgfTtcbiAgY29uc3QgaXNBY3R1YWxseVdyaXRhYmxlQXRvbSA9IChhdG9tKSA9PiAhIWF0b20ud3JpdGU7XG4gIGNvbnN0IG1vdW50QXRvbSA9ICh2ZXJzaW9uLCBhdG9tLCBpbml0aWFsRGVwZW5kZW50KSA9PiB7XG4gICAgY29uc3QgbW91bnRlZCA9IHtcbiAgICAgIHQ6IG5ldyBTZXQoaW5pdGlhbERlcGVuZGVudCAmJiBbaW5pdGlhbERlcGVuZGVudF0pLFxuICAgICAgbDogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICAgIH07XG4gICAgbW91bnRlZE1hcC5zZXQoYXRvbSwgbW91bnRlZCk7XG4gICAgaWYgKChpbXBvcnQubWV0YS5lbnYgJiYgaW1wb3J0Lm1ldGEuZW52Lk1PREUpICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgbW91bnRlZEF0b21zLmFkZChhdG9tKTtcbiAgICB9XG4gICAgY29uc3QgYXRvbVN0YXRlID0gcmVhZEF0b21TdGF0ZSh2b2lkIDAsIGF0b20pO1xuICAgIGF0b21TdGF0ZS5kLmZvckVhY2goKF8sIGEpID0+IHtcbiAgICAgIGNvbnN0IGFNb3VudGVkID0gbW91bnRlZE1hcC5nZXQoYSk7XG4gICAgICBpZiAoYU1vdW50ZWQpIHtcbiAgICAgICAgYU1vdW50ZWQudC5hZGQoYXRvbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYSAhPT0gYXRvbSkge1xuICAgICAgICAgIG1vdW50QXRvbSh2ZXJzaW9uLCBhLCBhdG9tKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpc0FjdHVhbGx5V3JpdGFibGVBdG9tKGF0b20pICYmIGF0b20ub25Nb3VudCkge1xuICAgICAgY29uc3Qgc2V0QXRvbSA9ICh1cGRhdGUpID0+IHdyaXRlQXRvbShhdG9tLCB1cGRhdGUsIHZlcnNpb24pO1xuICAgICAgY29uc3Qgb25Vbm1vdW50ID0gYXRvbS5vbk1vdW50KHNldEF0b20pO1xuICAgICAgdmVyc2lvbiA9IHZvaWQgMDtcbiAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgbW91bnRlZC51ID0gb25Vbm1vdW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbW91bnRlZDtcbiAgfTtcbiAgY29uc3QgdW5tb3VudEF0b20gPSAodmVyc2lvbiwgYXRvbSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBvblVubW91bnQgPSAoX2EgPSBtb3VudGVkTWFwLmdldChhdG9tKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnU7XG4gICAgaWYgKG9uVW5tb3VudCkge1xuICAgICAgb25Vbm1vdW50KCk7XG4gICAgfVxuICAgIG1vdW50ZWRNYXAuZGVsZXRlKGF0b20pO1xuICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIG1vdW50ZWRBdG9tcy5kZWxldGUoYXRvbSk7XG4gICAgfVxuICAgIGNvbnN0IGF0b21TdGF0ZSA9IGdldEF0b21TdGF0ZSh2ZXJzaW9uLCBhdG9tKTtcbiAgICBpZiAoYXRvbVN0YXRlKSB7XG4gICAgICBpZiAoXCJwXCIgaW4gYXRvbVN0YXRlKSB7XG4gICAgICAgIGNhbmNlbFN1c3BlbnNlUHJvbWlzZShhdG9tU3RhdGUucCk7XG4gICAgICB9XG4gICAgICBhdG9tU3RhdGUuZC5mb3JFYWNoKChfLCBhKSA9PiB7XG4gICAgICAgIGlmIChhICE9PSBhdG9tKSB7XG4gICAgICAgICAgY29uc3QgbW91bnRlZCA9IG1vdW50ZWRNYXAuZ2V0KGEpO1xuICAgICAgICAgIGlmIChtb3VudGVkKSB7XG4gICAgICAgICAgICBtb3VudGVkLnQuZGVsZXRlKGF0b20pO1xuICAgICAgICAgICAgaWYgKGNhblVubW91bnRBdG9tKGEsIG1vdW50ZWQpKSB7XG4gICAgICAgICAgICAgIHVubW91bnRBdG9tKHZlcnNpb24sIGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltCdWddIGNvdWxkIG5vdCBmaW5kIGF0b20gc3RhdGUgdG8gdW5tb3VudFwiLCBhdG9tKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50RGVwZW5kZW5jaWVzID0gKHZlcnNpb24sIGF0b20sIGF0b21TdGF0ZSwgcHJldlJlYWREZXBlbmRlbmNpZXMpID0+IHtcbiAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBuZXcgU2V0KGF0b21TdGF0ZS5kLmtleXMoKSk7XG4gICAgcHJldlJlYWREZXBlbmRlbmNpZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZSZWFkRGVwZW5kZW5jaWVzLmZvckVhY2goKF8sIGEpID0+IHtcbiAgICAgIGlmIChkZXBlbmRlbmNpZXMuaGFzKGEpKSB7XG4gICAgICAgIGRlcGVuZGVuY2llcy5kZWxldGUoYSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdW50ZWQgPSBtb3VudGVkTWFwLmdldChhKTtcbiAgICAgIGlmIChtb3VudGVkKSB7XG4gICAgICAgIG1vdW50ZWQudC5kZWxldGUoYXRvbSk7XG4gICAgICAgIGlmIChjYW5Vbm1vdW50QXRvbShhLCBtb3VudGVkKSkge1xuICAgICAgICAgIHVubW91bnRBdG9tKHZlcnNpb24sIGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZGVwZW5kZW5jaWVzLmZvckVhY2goKGEpID0+IHtcbiAgICAgIGNvbnN0IG1vdW50ZWQgPSBtb3VudGVkTWFwLmdldChhKTtcbiAgICAgIGlmIChtb3VudGVkKSB7XG4gICAgICAgIG1vdW50ZWQudC5hZGQoYXRvbSk7XG4gICAgICB9IGVsc2UgaWYgKG1vdW50ZWRNYXAuaGFzKGF0b20pKSB7XG4gICAgICAgIG1vdW50QXRvbSh2ZXJzaW9uLCBhLCBhdG9tKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZmx1c2hQZW5kaW5nID0gKHZlcnNpb24pID0+IHtcbiAgICBpZiAodmVyc2lvbikge1xuICAgICAgY29uc3QgdmVyc2lvbmVkQXRvbVN0YXRlTWFwID0gZ2V0VmVyc2lvbmVkQXRvbVN0YXRlTWFwKHZlcnNpb24pO1xuICAgICAgdmVyc2lvbmVkQXRvbVN0YXRlTWFwLmZvckVhY2goKGF0b21TdGF0ZSwgYXRvbSkgPT4ge1xuICAgICAgICBjb25zdCBjb21taXR0ZWRBdG9tU3RhdGUgPSBjb21taXR0ZWRBdG9tU3RhdGVNYXAuZ2V0KGF0b20pO1xuICAgICAgICBpZiAoYXRvbVN0YXRlICE9PSBjb21taXR0ZWRBdG9tU3RhdGUpIHtcbiAgICAgICAgICBjb25zdCBtb3VudGVkID0gbW91bnRlZE1hcC5nZXQoYXRvbSk7XG4gICAgICAgICAgbW91bnRlZCA9PSBudWxsID8gdm9pZCAwIDogbW91bnRlZC5sLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcih2ZXJzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aGlsZSAocGVuZGluZ01hcC5zaXplKSB7XG4gICAgICBjb25zdCBwZW5kaW5nID0gQXJyYXkuZnJvbShwZW5kaW5nTWFwKTtcbiAgICAgIHBlbmRpbmdNYXAuY2xlYXIoKTtcbiAgICAgIHBlbmRpbmcuZm9yRWFjaCgoW2F0b20sIHByZXZBdG9tU3RhdGVdKSA9PiB7XG4gICAgICAgIGNvbnN0IGF0b21TdGF0ZSA9IGdldEF0b21TdGF0ZSh2b2lkIDAsIGF0b20pO1xuICAgICAgICBpZiAoYXRvbVN0YXRlICYmIGF0b21TdGF0ZS5kICE9PSAocHJldkF0b21TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogcHJldkF0b21TdGF0ZS5kKSkge1xuICAgICAgICAgIG1vdW50RGVwZW5kZW5jaWVzKHZvaWQgMCwgYXRvbSwgYXRvbVN0YXRlLCBwcmV2QXRvbVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2QXRvbVN0YXRlLmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2QXRvbVN0YXRlICYmICFwcmV2QXRvbVN0YXRlLnkgJiYgKGF0b21TdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogYXRvbVN0YXRlLnkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vdW50ZWQgPSBtb3VudGVkTWFwLmdldChhdG9tKTtcbiAgICAgICAgbW91bnRlZCA9PSBudWxsID8gdm9pZCAwIDogbW91bnRlZC5sLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcigpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoKGltcG9ydC5tZXRhLmVudiAmJiBpbXBvcnQubWV0YS5lbnYuTU9ERSkgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICBzdGF0ZUxpc3RlbmVycy5mb3JFYWNoKChsKSA9PiBsKCkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY29tbWl0VmVyc2lvbmVkQXRvbVN0YXRlTWFwID0gKHZlcnNpb24pID0+IHtcbiAgICBjb25zdCB2ZXJzaW9uZWRBdG9tU3RhdGVNYXAgPSBnZXRWZXJzaW9uZWRBdG9tU3RhdGVNYXAodmVyc2lvbik7XG4gICAgdmVyc2lvbmVkQXRvbVN0YXRlTWFwLmZvckVhY2goKGF0b21TdGF0ZSwgYXRvbSkgPT4ge1xuICAgICAgY29uc3QgcHJldkF0b21TdGF0ZSA9IGNvbW1pdHRlZEF0b21TdGF0ZU1hcC5nZXQoYXRvbSk7XG4gICAgICBpZiAoIXByZXZBdG9tU3RhdGUgfHwgYXRvbVN0YXRlLnIgPiBwcmV2QXRvbVN0YXRlLnIgfHwgYXRvbVN0YXRlLnkgIT09IHByZXZBdG9tU3RhdGUueSB8fCBhdG9tU3RhdGUuciA9PT0gcHJldkF0b21TdGF0ZS5yICYmIGF0b21TdGF0ZS5kICE9PSBwcmV2QXRvbVN0YXRlLmQpIHtcbiAgICAgICAgY29tbWl0dGVkQXRvbVN0YXRlTWFwLnNldChhdG9tLCBhdG9tU3RhdGUpO1xuICAgICAgICBpZiAoYXRvbVN0YXRlLmQgIT09IChwcmV2QXRvbVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2QXRvbVN0YXRlLmQpKSB7XG4gICAgICAgICAgbW91bnREZXBlbmRlbmNpZXModmVyc2lvbiwgYXRvbSwgYXRvbVN0YXRlLCBwcmV2QXRvbVN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBwcmV2QXRvbVN0YXRlLmQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGNvbW1pdEF0b20gPSAoX2F0b20sIHZlcnNpb24pID0+IHtcbiAgICBpZiAodmVyc2lvbikge1xuICAgICAgY29tbWl0VmVyc2lvbmVkQXRvbVN0YXRlTWFwKHZlcnNpb24pO1xuICAgIH1cbiAgICBmbHVzaFBlbmRpbmcodm9pZCAwKTtcbiAgfTtcbiAgY29uc3Qgc3Vic2NyaWJlQXRvbSA9IChhdG9tLCBjYWxsYmFjaywgdmVyc2lvbikgPT4ge1xuICAgIGNvbnN0IG1vdW50ZWQgPSBhZGRBdG9tKHZlcnNpb24sIGF0b20pO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IG1vdW50ZWQubDtcbiAgICBsaXN0ZW5lcnMuYWRkKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgICBkZWxBdG9tKHZlcnNpb24sIGF0b20pO1xuICAgIH07XG4gIH07XG4gIGNvbnN0IHJlc3RvcmVBdG9tcyA9ICh2YWx1ZXMsIHZlcnNpb24pID0+IHtcbiAgICBmb3IgKGNvbnN0IFthdG9tLCB2YWx1ZV0gb2YgdmFsdWVzKSB7XG4gICAgICBpZiAoaGFzSW5pdGlhbFZhbHVlKGF0b20pKSB7XG4gICAgICAgIHNldEF0b21Qcm9taXNlT3JWYWx1ZSh2ZXJzaW9uLCBhdG9tLCB2YWx1ZSk7XG4gICAgICAgIGludmFsaWRhdGVEZXBlbmRlbnRzKHZlcnNpb24sIGF0b20pO1xuICAgICAgfVxuICAgIH1cbiAgICBmbHVzaFBlbmRpbmcodmVyc2lvbik7XG4gIH07XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ICYmIGltcG9ydC5tZXRhLmVudi5NT0RFKSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW1JFQURfQVRPTV06IHJlYWRBdG9tLFxuICAgICAgW1dSSVRFX0FUT01dOiB3cml0ZUF0b20sXG4gICAgICBbQ09NTUlUX0FUT01dOiBjb21taXRBdG9tLFxuICAgICAgW1NVQlNDUklCRV9BVE9NXTogc3Vic2NyaWJlQXRvbSxcbiAgICAgIFtSRVNUT1JFX0FUT01TXTogcmVzdG9yZUF0b21zLFxuICAgICAgW0RFVl9TVUJTQ1JJQkVfU1RBVEVdOiAobCkgPT4ge1xuICAgICAgICBzdGF0ZUxpc3RlbmVycy5hZGQobCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgc3RhdGVMaXN0ZW5lcnMuZGVsZXRlKGwpO1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIFtERVZfR0VUX01PVU5URURfQVRPTVNdOiAoKSA9PiBtb3VudGVkQXRvbXMudmFsdWVzKCksXG4gICAgICBbREVWX0dFVF9BVE9NX1NUQVRFXTogKGEpID0+IGNvbW1pdHRlZEF0b21TdGF0ZU1hcC5nZXQoYSksXG4gICAgICBbREVWX0dFVF9NT1VOVEVEXTogKGEpID0+IG1vdW50ZWRNYXAuZ2V0KGEpXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIFtSRUFEX0FUT01dOiByZWFkQXRvbSxcbiAgICBbV1JJVEVfQVRPTV06IHdyaXRlQXRvbSxcbiAgICBbQ09NTUlUX0FUT01dOiBjb21taXRBdG9tLFxuICAgIFtTVUJTQ1JJQkVfQVRPTV06IHN1YnNjcmliZUF0b20sXG4gICAgW1JFU1RPUkVfQVRPTVNdOiByZXN0b3JlQXRvbXNcbiAgfTtcbn07XG5jb25zdCBjcmVhdGVTdG9yZUZvckV4cG9ydCA9IChpbml0aWFsVmFsdWVzKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoaW5pdGlhbFZhbHVlcyk7XG4gIGNvbnN0IGdldCA9IChhdG9tKSA9PiB7XG4gICAgY29uc3QgYXRvbVN0YXRlID0gc3RvcmVbUkVBRF9BVE9NXShhdG9tKTtcbiAgICBpZiAoXCJlXCIgaW4gYXRvbVN0YXRlKSB7XG4gICAgICB0aHJvdyBhdG9tU3RhdGUuZTtcbiAgICB9XG4gICAgaWYgKFwicFwiIGluIGF0b21TdGF0ZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIGF0b21TdGF0ZS52O1xuICB9O1xuICBjb25zdCBhc3luY0dldCA9IChhdG9tKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgYXRvbVN0YXRlID0gc3RvcmVbUkVBRF9BVE9NXShhdG9tKTtcbiAgICBpZiAoXCJlXCIgaW4gYXRvbVN0YXRlKSB7XG4gICAgICByZWplY3QoYXRvbVN0YXRlLmUpO1xuICAgIH0gZWxzZSBpZiAoXCJwXCIgaW4gYXRvbVN0YXRlKSB7XG4gICAgICByZXNvbHZlKGF0b21TdGF0ZS5wLnRoZW4oKCkgPT4gYXN5bmNHZXQoYXRvbSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShhdG9tU3RhdGUudik7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc2V0ID0gKGF0b20sIHVwZGF0ZSkgPT4gc3RvcmVbV1JJVEVfQVRPTV0oYXRvbSwgdXBkYXRlKTtcbiAgY29uc3Qgc3ViID0gKGF0b20sIGNhbGxiYWNrKSA9PiBzdG9yZVtTVUJTQ1JJQkVfQVRPTV0oYXRvbSwgY2FsbGJhY2spO1xuICByZXR1cm4ge1xuICAgIGdldCxcbiAgICBhc3luY0dldCxcbiAgICBzZXQsXG4gICAgc3ViLFxuICAgIFNFQ1JFVF9JTlRFUk5BTF9zdG9yZTogc3RvcmVcbiAgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNjb3BlQ29udGFpbmVyID0gKGluaXRpYWxWYWx1ZXMsIHVuc3RhYmxlX2NyZWF0ZVN0b3JlKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gdW5zdGFibGVfY3JlYXRlU3RvcmUgPyB1bnN0YWJsZV9jcmVhdGVTdG9yZShpbml0aWFsVmFsdWVzKS5TRUNSRVRfSU5URVJOQUxfc3RvcmUgOiBjcmVhdGVTdG9yZShpbml0aWFsVmFsdWVzKTtcbiAgcmV0dXJuIHsgczogc3RvcmUgfTtcbn07XG5jb25zdCBTY29wZUNvbnRleHRNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuY29uc3QgZ2V0U2NvcGVDb250ZXh0ID0gKHNjb3BlKSA9PiB7XG4gIGlmICghU2NvcGVDb250ZXh0TWFwLmhhcyhzY29wZSkpIHtcbiAgICBTY29wZUNvbnRleHRNYXAuc2V0KHNjb3BlLCBjcmVhdGVDb250ZXh0KGNyZWF0ZVNjb3BlQ29udGFpbmVyKCkpKTtcbiAgfVxuICByZXR1cm4gU2NvcGVDb250ZXh0TWFwLmdldChzY29wZSk7XG59O1xuXG5jb25zdCBQcm92aWRlciA9ICh7XG4gIGNoaWxkcmVuLFxuICBpbml0aWFsVmFsdWVzLFxuICBzY29wZSxcbiAgdW5zdGFibGVfY3JlYXRlU3RvcmUsXG4gIHVuc3RhYmxlX2VuYWJsZVZlcnNpb25lZFdyaXRlXG59KSA9PiB7XG4gIGNvbnN0IFt2ZXJzaW9uLCBzZXRWZXJzaW9uXSA9IHVzZVN0YXRlKHt9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzY29wZUNvbnRhaW5lciA9IHNjb3BlQ29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHNjb3BlQ29udGFpbmVyLncpIHtcbiAgICAgIHNjb3BlQ29udGFpbmVyLnNbQ09NTUlUX0FUT01dKG51bGwsIHZlcnNpb24pO1xuICAgICAgZGVsZXRlIHZlcnNpb24ucDtcbiAgICAgIHNjb3BlQ29udGFpbmVyLnYgPSB2ZXJzaW9uO1xuICAgIH1cbiAgfSwgW3ZlcnNpb25dKTtcbiAgY29uc3Qgc2NvcGVDb250YWluZXJSZWYgPSB1c2VSZWYoKTtcbiAgaWYgKCFzY29wZUNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgY29uc3Qgc2NvcGVDb250YWluZXIgPSBjcmVhdGVTY29wZUNvbnRhaW5lcihcbiAgICAgIGluaXRpYWxWYWx1ZXMsXG4gICAgICB1bnN0YWJsZV9jcmVhdGVTdG9yZVxuICAgICk7XG4gICAgaWYgKHVuc3RhYmxlX2VuYWJsZVZlcnNpb25lZFdyaXRlKSB7XG4gICAgICBsZXQgcmV0cnlpbmcgPSAwO1xuICAgICAgc2NvcGVDb250YWluZXIudyA9ICh3cml0ZSkgPT4ge1xuICAgICAgICBzZXRWZXJzaW9uKChwYXJlbnRWZXJzaW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV4dFZlcnNpb24gPSByZXRyeWluZyA/IHBhcmVudFZlcnNpb24gOiB7IHA6IHBhcmVudFZlcnNpb24gfTtcbiAgICAgICAgICB3cml0ZShuZXh0VmVyc2lvbik7XG4gICAgICAgICAgcmV0dXJuIG5leHRWZXJzaW9uO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBzY29wZUNvbnRhaW5lci52ID0gdmVyc2lvbjtcbiAgICAgIHNjb3BlQ29udGFpbmVyLnIgPSAoZm4pID0+IHtcbiAgICAgICAgKytyZXRyeWluZztcbiAgICAgICAgZm4oKTtcbiAgICAgICAgLS1yZXRyeWluZztcbiAgICAgIH07XG4gICAgfVxuICAgIHNjb3BlQ29udGFpbmVyUmVmLmN1cnJlbnQgPSBzY29wZUNvbnRhaW5lcjtcbiAgfVxuICBjb25zdCBTY29wZUNvbnRhaW5lckNvbnRleHQgPSBnZXRTY29wZUNvbnRleHQoc2NvcGUpO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChcbiAgICBTY29wZUNvbnRhaW5lckNvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHNjb3BlQ29udGFpbmVyUmVmLmN1cnJlbnRcbiAgICB9LFxuICAgIGNoaWxkcmVuXG4gICk7XG59O1xuXG5sZXQga2V5Q291bnQgPSAwO1xuZnVuY3Rpb24gYXRvbShyZWFkLCB3cml0ZSkge1xuICBjb25zdCBrZXkgPSBgYXRvbSR7KytrZXlDb3VudH1gO1xuICBjb25zdCBjb25maWcgPSB7XG4gICAgdG9TdHJpbmc6ICgpID0+IGtleVxuICB9O1xuICBpZiAodHlwZW9mIHJlYWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbmZpZy5yZWFkID0gcmVhZDtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcuaW5pdCA9IHJlYWQ7XG4gICAgY29uZmlnLnJlYWQgPSAoZ2V0KSA9PiBnZXQoY29uZmlnKTtcbiAgICBjb25maWcud3JpdGUgPSAoZ2V0LCBzZXQsIHVwZGF0ZSkgPT4gc2V0KGNvbmZpZywgdHlwZW9mIHVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gdXBkYXRlKGdldChjb25maWcpKSA6IHVwZGF0ZSk7XG4gIH1cbiAgaWYgKHdyaXRlKSB7XG4gICAgY29uZmlnLndyaXRlID0gd3JpdGU7XG4gIH1cbiAgcmV0dXJuIGNvbmZpZztcbn1cblxuZnVuY3Rpb24gdXNlQXRvbVZhbHVlKGF0b20sIHNjb3BlKSB7XG4gIGNvbnN0IFNjb3BlQ29udGV4dCA9IGdldFNjb3BlQ29udGV4dChzY29wZSk7XG4gIGNvbnN0IHNjb3BlQ29udGFpbmVyID0gdXNlQ29udGV4dChTY29wZUNvbnRleHQpO1xuICBjb25zdCB7IHM6IHN0b3JlLCB2OiB2ZXJzaW9uRnJvbVByb3ZpZGVyIH0gPSBzY29wZUNvbnRhaW5lcjtcbiAgY29uc3QgZ2V0QXRvbVZhbHVlID0gKHZlcnNpb24yKSA9PiB7XG4gICAgY29uc3QgYXRvbVN0YXRlID0gc3RvcmVbUkVBRF9BVE9NXShhdG9tLCB2ZXJzaW9uMik7XG4gICAgaWYgKChpbXBvcnQubWV0YS5lbnYgJiYgaW1wb3J0Lm1ldGEuZW52Lk1PREUpICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhYXRvbVN0YXRlLnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInNob3VsZCBub3QgYmUgaW52YWxpZGF0ZWRcIik7XG4gICAgfVxuICAgIGlmIChcImVcIiBpbiBhdG9tU3RhdGUpIHtcbiAgICAgIHRocm93IGF0b21TdGF0ZS5lO1xuICAgIH1cbiAgICBpZiAoXCJwXCIgaW4gYXRvbVN0YXRlKSB7XG4gICAgICB0aHJvdyBhdG9tU3RhdGUucDtcbiAgICB9XG4gICAgaWYgKFwidlwiIGluIGF0b21TdGF0ZSkge1xuICAgICAgcmV0dXJuIGF0b21TdGF0ZS52O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBhdG9tIHZhbHVlXCIpO1xuICB9O1xuICBjb25zdCBbW3ZlcnNpb24sIHZhbHVlRnJvbVJlZHVjZXIsIGF0b21Gcm9tUmVkdWNlcl0sIHJlcmVuZGVySWZDaGFuZ2VkXSA9IHVzZVJlZHVjZXIoXG4gICAgKHByZXYsIG5leHRWZXJzaW9uKSA9PiB7XG4gICAgICBjb25zdCBuZXh0VmFsdWUgPSBnZXRBdG9tVmFsdWUobmV4dFZlcnNpb24pO1xuICAgICAgaWYgKE9iamVjdC5pcyhwcmV2WzFdLCBuZXh0VmFsdWUpICYmIHByZXZbMl0gPT09IGF0b20pIHtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gW25leHRWZXJzaW9uLCBuZXh0VmFsdWUsIGF0b21dO1xuICAgIH0sXG4gICAgdmVyc2lvbkZyb21Qcm92aWRlcixcbiAgICAoaW5pdGlhbFZlcnNpb24pID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZSA9IGdldEF0b21WYWx1ZShpbml0aWFsVmVyc2lvbik7XG4gICAgICByZXR1cm4gW2luaXRpYWxWZXJzaW9uLCBpbml0aWFsVmFsdWUsIGF0b21dO1xuICAgIH1cbiAgKTtcbiAgbGV0IHZhbHVlID0gdmFsdWVGcm9tUmVkdWNlcjtcbiAgaWYgKGF0b21Gcm9tUmVkdWNlciAhPT0gYXRvbSkge1xuICAgIHJlcmVuZGVySWZDaGFuZ2VkKHZlcnNpb24pO1xuICAgIHZhbHVlID0gZ2V0QXRvbVZhbHVlKHZlcnNpb24pO1xuICB9XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyB2OiB2ZXJzaW9uRnJvbVByb3ZpZGVyMiB9ID0gc2NvcGVDb250YWluZXI7XG4gICAgaWYgKHZlcnNpb25Gcm9tUHJvdmlkZXIyKSB7XG4gICAgICBzdG9yZVtDT01NSVRfQVRPTV0oYXRvbSwgdmVyc2lvbkZyb21Qcm92aWRlcjIpO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN0b3JlW1NVQlNDUklCRV9BVE9NXShcbiAgICAgIGF0b20sXG4gICAgICByZXJlbmRlcklmQ2hhbmdlZCxcbiAgICAgIHZlcnNpb25Gcm9tUHJvdmlkZXIyXG4gICAgKTtcbiAgICByZXJlbmRlcklmQ2hhbmdlZCh2ZXJzaW9uRnJvbVByb3ZpZGVyMik7XG4gICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICB9LCBbc3RvcmUsIGF0b20sIHNjb3BlQ29udGFpbmVyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc3RvcmVbQ09NTUlUX0FUT01dKGF0b20sIHZlcnNpb24pO1xuICB9KTtcbiAgdXNlRGVidWdWYWx1ZSh2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0QXRvbShhdG9tLCBzY29wZSkge1xuICBjb25zdCBTY29wZUNvbnRleHQgPSBnZXRTY29wZUNvbnRleHQoc2NvcGUpO1xuICBjb25zdCB7IHM6IHN0b3JlLCB3OiB2ZXJzaW9uZWRXcml0ZSB9ID0gdXNlQ29udGV4dChTY29wZUNvbnRleHQpO1xuICBjb25zdCBzZXRBdG9tID0gdXNlQ2FsbGJhY2soXG4gICAgKHVwZGF0ZSkgPT4ge1xuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgJiYgaW1wb3J0Lm1ldGEuZW52Lk1PREUpICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhKFwid3JpdGVcIiBpbiBhdG9tKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3Qgd3JpdGFibGUgYXRvbVwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHdyaXRlID0gKHZlcnNpb24pID0+IHN0b3JlW1dSSVRFX0FUT01dKGF0b20sIHVwZGF0ZSwgdmVyc2lvbik7XG4gICAgICByZXR1cm4gdmVyc2lvbmVkV3JpdGUgPyB2ZXJzaW9uZWRXcml0ZSh3cml0ZSkgOiB3cml0ZSgpO1xuICAgIH0sXG4gICAgW3N0b3JlLCB2ZXJzaW9uZWRXcml0ZSwgYXRvbV1cbiAgKTtcbiAgcmV0dXJuIHNldEF0b207XG59XG5cbmZ1bmN0aW9uIHVzZUF0b20oYXRvbSwgc2NvcGUpIHtcbiAgaWYgKFwic2NvcGVcIiBpbiBhdG9tKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJhdG9tLnNjb3BlIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSBkbyB1c2VBdG9tKGF0b20sIHNjb3BlKSBpbnN0ZWFkLlwiXG4gICAgKTtcbiAgICBzY29wZSA9IGF0b20uc2NvcGU7XG4gIH1cbiAgcmV0dXJuIFtcbiAgICB1c2VBdG9tVmFsdWUoYXRvbSwgc2NvcGUpLFxuICAgIHVzZVNldEF0b20oYXRvbSwgc2NvcGUpXG4gIF07XG59XG5cbmV4cG9ydCB7IFByb3ZpZGVyLCBnZXRTY29wZUNvbnRleHQgYXMgU0VDUkVUX0lOVEVSTkFMX2dldFNjb3BlQ29udGV4dCwgcmVnaXN0ZXJQcm9taXNlQWJvcnQgYXMgU0VDUkVUX0lOVEVSTkFMX3JlZ2lzdGVyUHJvbWlzZUFib3J0LCBhdG9tLCBjcmVhdGVTdG9yZUZvckV4cG9ydCBhcyB1bnN0YWJsZV9jcmVhdGVTdG9yZSwgdXNlQXRvbSwgdXNlQXRvbVZhbHVlLCB1c2VTZXRBdG9tIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/jotai/esm/index.js\n"));

/***/ }),

/***/ "./pages/poke.jsx":
/*!************************!*\
  !*** ./pages/poke.jsx ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_ji_hyekim_Desktop_test_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js */ \"../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var jotai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jotai */ \"../../node_modules/jotai/esm/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"../../node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);\n\n\nvar _jsxFileName = \"/Users/ji-hyekim/Desktop/test/packages/next2/pages/poke.jsx\",\n    _this = undefined,\n    _s = $RefreshSig$();\n\n\n\n\n\n\nvar Poke = function Poke() {\n  _s();\n\n  var _useAtom = (0,jotai__WEBPACK_IMPORTED_MODULE_3__.useAtom)(),\n      _useAtom2 = (0,_Users_ji_hyekim_Desktop_test_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useAtom, 2),\n      data = _useAtom2[0],\n      setData = _useAtom2[1];\n\n  var poke = fetch(\"https://pokeapi.co/api/v2/pokemon?limit=153&offset=0\").then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return console.log(data.results);\n  });\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxDEV)(\"button\", {\n    children: \"poke\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Poke, \"u3jNEnM40jjH41EUoqsxcVR4eWw=\", false, function () {\n  return [jotai__WEBPACK_IMPORTED_MODULE_3__.useAtom];\n});\n\n_c = Poke;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Poke);\n\nvar _c;\n\n$RefreshReg$(_c, \"Poke\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9wb2tlLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOzs7QUFJQSxJQUFNSSxJQUFJLEdBQUcsU0FBUEEsSUFBTyxHQUFNO0VBQUE7O0VBR1gsZUFBdUJILDhDQUFPLEVBQTlCO0VBQUE7RUFBQSxJQUFPSSxJQUFQO0VBQUEsSUFBWUMsT0FBWjs7RUFDQSxJQUFNQyxJQUFJLEdBQUlDLEtBQUssQ0FBQyxzREFBRCxDQUFMLENBQThEQyxJQUE5RCxDQUFtRSxVQUFDQyxHQUFEO0lBQUEsT0FBT0EsR0FBRyxDQUFDQyxJQUFKLEVBQVA7RUFBQSxDQUFuRSxFQUFzRkYsSUFBdEYsQ0FBMkYsVUFBQ0osSUFBRDtJQUFBLE9BQVNPLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUixJQUFJLENBQUNTLE9BQWpCLENBQVQ7RUFBQSxDQUEzRixDQUFkO0VBSUosb0JBQ0k7SUFBQTtFQUFBO0lBQUE7SUFBQTtJQUFBO0VBQUEsU0FESjtBQUdILENBWEQ7O0dBQU1WO1VBR3lCSDs7O0tBSHpCRztBQWFOLCtEQUFlQSxJQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL3Bva2UuanN4P2I1ZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXRvbSwgdXNlQXRvbSB9IGZyb20gXCJqb3RhaVwiXG5pbXBvcnQgeyBhdG9tc1dpdGhRdWVyeSB9IGZyb20gXCJqb3RhaS10YW5zdGFjay1xdWVyeVwiXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiXG5cblxuXG5jb25zdCBQb2tlID0gKCkgPT4ge1xuXG5cbiAgICAgICAgY29uc3QgW2RhdGEsc2V0RGF0YV0gPSB1c2VBdG9tKCk7XG4gICAgICAgIGNvbnN0IHBva2UgPSAgZmV0Y2goXCJodHRwczovL3Bva2VhcGkuY28vYXBpL3YyL3Bva2Vtb24/bGltaXQ9MTUzJm9mZnNldD0wXCIpLnRoZW4oKHJlcyk9PnJlcy5qc29uKCkpLnRoZW4oKGRhdGEpPT4gY29uc29sZS5sb2coZGF0YS5yZXN1bHRzKSlcbiAgICBcblxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbj5wb2tlPC9idXR0b24+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2tlOyJdLCJuYW1lcyI6WyJhdG9tIiwidXNlQXRvbSIsImF0b21zV2l0aFF1ZXJ5IiwidXNlU3RhdGUiLCJQb2tlIiwiZGF0YSIsInNldERhdGEiLCJwb2tlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJyZXN1bHRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/poke.jsx\n"));

/***/ }),

/***/ "../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayLikeToArray.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayLikeToArray.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _arrayLikeToArray; }\n/* harmony export */ });\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheUxpa2VUb0FycmF5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmOztBQUVBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheUxpa2VUb0FycmF5LmpzPzA2NGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayLikeToArray.js\n"));

/***/ }),

/***/ "../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayWithHoles.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayWithHoles.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _arrayWithHoles; }\n/* harmony export */ });\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhIb2xlcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWU7QUFDZjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aEhvbGVzLmpzPzE0NzMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayWithHoles.js\n"));

/***/ }),

/***/ "../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/iterableToArrayLimit.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/iterableToArrayLimit.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _iterableToArrayLimit; }\n/* harmony export */ });\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWU7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDRCQUE0QiwrQkFBK0I7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaXRlcmFibGVUb0FycmF5TGltaXQuanM/MjMwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/iterableToArrayLimit.js\n"));

/***/ }),

/***/ "../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/nonIterableRest.js":
/*!*******************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/nonIterableRest.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _nonIterableRest; }\n/* harmony export */ });\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVJlc3QuanM/NzQ1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/nonIterableRest.js\n"));

/***/ }),

/***/ "../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _slicedToArray; }\n/* harmony export */ });\n/* harmony import */ var _arrayWithHoles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayWithHoles.js */ \"../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayWithHoles.js\");\n/* harmony import */ var _iterableToArrayLimit_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iterableToArrayLimit.js */ \"../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/iterableToArrayLimit.js\");\n/* harmony import */ var _unsupportedIterableToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unsupportedIterableToArray.js */ \"../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\");\n/* harmony import */ var _nonIterableRest_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./nonIterableRest.js */ \"../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/nonIterableRest.js\");\n\n\n\n\nfunction _slicedToArray(arr, i) {\n  return (0,_arrayWithHoles_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arr) || (0,_iterableToArrayLimit_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(arr, i) || (0,_unsupportedIterableToArray_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(arr, i) || (0,_nonIterableRest_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlEO0FBQ1k7QUFDWTtBQUN0QjtBQUNwQztBQUNmLFNBQVMsOERBQWMsU0FBUyxvRUFBb0IsWUFBWSwwRUFBMEIsWUFBWSwrREFBZTtBQUNySCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzPzBjNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5V2l0aEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5TGltaXQgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIjtcbmltcG9ydCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSBmcm9tIFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IG5vbkl0ZXJhYmxlUmVzdCBmcm9tIFwiLi9ub25JdGVyYWJsZVJlc3QuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js\n"));

/***/ }),

/***/ "../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/unsupportedIterableToArray.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _unsupportedIterableToArray; }\n/* harmony export */ });\n/* harmony import */ var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arrayLikeToArray.js */ \"../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(o, minLen);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRDtBQUN0QztBQUNmO0FBQ0Esb0NBQW9DLGdFQUFnQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsZ0VBQWdCO0FBQ3RHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzP2E2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../node_modules/next/dist/compiled/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\n"));

/***/ })

});